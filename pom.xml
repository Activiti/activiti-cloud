<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <groupId>org.activiti.cloud.build</groupId>
    <artifactId>activiti-cloud-parent</artifactId>
    <version>7.1.10</version>
    <relativePath/>
  </parent>

  <groupId>org.activiti.cloud.common</groupId>
  <artifactId>activiti-cloud-service-common-parent</artifactId>
  <version>7.1.0-SNAPSHOT</version>
  <packaging>pom</packaging>
  <name>Activiti Cloud :: Service Common Parent</name>
  <url>http://activiti.org</url>

  <properties>
    <activiti-cloud-build.version>7.1.10</activiti-cloud-build.version>
    <activiti-cloud-service-common.version>${project.version}</activiti-cloud-service-common.version>
    <activiti-core-common.version>7.1.52</activiti-core-common.version>       
    <activiti-cloud-api.version>7.1.47</activiti-cloud-api.version>
    <!-- dependencies -->
    <awaitility.version>3.0.0</awaitility.version>
    <commons-beanutils.version>1.9.3</commons-beanutils.version>
    <commons-configuration.version>1.8</commons-configuration.version>
    <commons-lang.version>2.6</commons-lang.version>
    <commons-io.version>2.6</commons-io.version>
    <java-semver.version>0.9.0</java-semver.version>
    <keycloak.version>4.6.0.Final</keycloak.version>
    <keycloak-spring-boot.version>4.6.0.Final</keycloak-spring-boot.version>
    <logstash.version>4.11</logstash.version>
    <querydsl.version>4.1.4</querydsl.version>
    <resteasy.version>3.0.21.Final</resteasy.version>
    <springfox.version>2.8.0</springfox.version>
    <swagger.version>1.5.10</swagger.version>
    <xstream.version>1.4.10</xstream.version>
    <asciidoctor.version>1.5.6</asciidoctor.version>
    <json-unit.version>1.24.0</json-unit.version>
    <javax.annotation.version>1.3.2</javax.annotation.version>
  </properties>

  <modules>
    <module>dependencies-tests</module>
    <module>activiti-cloud-service-common-dependencies</module>
    <module>activiti-cloud-services-test</module>
    <module>activiti-cloud-services-monitoring</module>
    <module>activiti-cloud-services-tracing</module>
    <module>activiti-cloud-services-logging</module>
    <module>activiti-cloud-services-metadata</module>
    <module>activiti-cloud-services-dbp-rest</module>
    <module>activiti-cloud-services-rest-docs</module>
    <module>activiti-cloud-services-common-security-keycloak</module>
    <module>activiti-cloud-services-common-identity-keycloak</module>
    <module>activiti-cloud-services-auditable</module>
    <module>activiti-cloud-services-commons-io</module>
    <module>activiti-cloud-services-common-security</module>
    <module>activiti-cloud-service-common-config</module>
    <module>activiti-cloud-services-swagger</module>
    <module>activiti-cloud-service-error-handlers</module>
  </modules>
  <scm>
    <url>https://github.com/Activiti/activiti-cloud-service-common</url>
    <connection>scm:git:https://github.com/Activiti/activiti-cloud-service-common.git</connection>
    <developerConnection>scm:git:https://github.com/Activiti/activiti-cloud-service-common.git</developerConnection>
    <tag>HEAD</tag>
  </scm>
  <ciManagement>
    <system>Travis</system>
    <url>https://travis-ci.org/Activiti/activiti-cloud-service-common</url>
  </ciManagement>
  <repositories>
    <repository>
      <id>alfresco</id>
      <name>Activiti Releases</name>
      <url>https://artifacts.alfresco.com/nexus/content/repositories/activiti-releases/</url>
      <releases>
        <enabled>true</enabled>
      </releases>
    </repository>
  </repositories>

  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>org.activiti.cloud.build</groupId>
        <artifactId>activiti-cloud-dependencies-parent</artifactId>
        <version>${activiti-cloud-build.version}</version>
        <scope>import</scope>
        <type>pom</type>
      </dependency>
      <dependency>
        <groupId>org.keycloak.bom</groupId>
        <artifactId>keycloak-adapter-bom</artifactId>
        <version>${keycloak-spring-boot.version}</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>
      <!-- fix for https://github.com/spring-cloud/spring-cloud-netflix/issues/2779 -->
      <dependency>
        <groupId>com.thoughtworks.xstream</groupId>
        <artifactId>xstream</artifactId>
        <version>${xstream.version}</version>
      </dependency>
      <!-- avoid commons-logging imported by Spring Contract and banned by Maven enforcer -->
      <dependency>
        <groupId>commons-beanutils</groupId>
        <artifactId>commons-beanutils</artifactId>
        <version>${commons-beanutils.version}</version>
        <exclusions>
          <exclusion>
            <groupId>commons-logging</groupId>
            <artifactId>commons-logging</artifactId>
          </exclusion>
        </exclusions>
      </dependency>
      <!-- avoid older commons dependencies used by Eureka being available for compilation -->
      <dependency>
        <groupId>commons-configuration</groupId>
        <artifactId>commons-configuration</artifactId>
        <version>${commons-configuration.version}</version>
        <exclusions>
          <exclusion>
            <groupId>commons-logging</groupId>
            <artifactId>commons-logging</artifactId>
          </exclusion>
        </exclusions>
        <scope>runtime</scope>
      </dependency>
      <dependency>
        <groupId>commons-lang</groupId>
        <artifactId>commons-lang</artifactId>
        <version>${commons-lang.version}</version>
        <scope>runtime</scope>
      </dependency>
      <dependency>
        <groupId>commons-io</groupId>
        <artifactId>commons-io</artifactId>
        <version>${commons-io.version}</version>
      </dependency>
      <!-- SpringFox dependencies -->
      <dependency>
        <groupId>io.springfox</groupId>
        <artifactId>springfox-core</artifactId>
        <version>${springfox.version}</version>
      </dependency>
      <dependency>
        <groupId>io.springfox</groupId>
        <artifactId>springfox-spi</artifactId>
        <version>${springfox.version}</version>
      </dependency>
      <dependency>
        <groupId>io.springfox</groupId>
        <artifactId>springfox-spring-web</artifactId>
        <version>${springfox.version}</version>
      </dependency>
      <dependency>
        <groupId>io.springfox</groupId>
        <artifactId>springfox-swagger2</artifactId>
        <version>${springfox.version}</version>
      </dependency>
      <dependency>
        <groupId>io.springfox</groupId>
        <artifactId>springfox-swagger-ui</artifactId>
        <version>${springfox.version}</version>
      </dependency>
      <dependency>
        <groupId>io.springfox</groupId>
        <artifactId>springfox-swagger-common</artifactId>
        <version>${springfox.version}</version>
      </dependency>
      <dependency>
        <groupId>io.swagger</groupId>
        <artifactId>swagger-annotations</artifactId>
        <version>1.5.14</version>
      </dependency>
      <!-- Querydsl dependencies http://www.querydsl.com -->
      <dependency>
        <groupId>com.querydsl</groupId>
        <artifactId>querydsl-apt</artifactId>
        <version>${querydsl.version}</version>
      </dependency>
      <dependency>
        <groupId>com.querydsl</groupId>
        <artifactId>querydsl-jpa</artifactId>
        <version>${querydsl.version}</version>
      </dependency>
      <!-- Keycloak dependencies -->
      <dependency>
        <groupId>org.keycloak</groupId>
        <artifactId>keycloak-admin-client</artifactId>
        <version>${keycloak.version}</version>
      </dependency>
      <dependency>
        <groupId>org.jboss.resteasy</groupId>
        <artifactId>resteasy-client</artifactId>
        <version>${resteasy.version}</version>
      </dependency>
      <dependency>
        <groupId>org.jboss.resteasy</groupId>
        <artifactId>resteasy-jackson2-provider</artifactId>
        <version>${resteasy.version}</version>
      </dependency>
      <dependency>
        <groupId>org.awaitility</groupId>
        <artifactId>awaitility</artifactId>
        <version>${awaitility.version}</version>
      </dependency>
      <dependency>
        <groupId>com.github.zafarkhaja</groupId>
        <artifactId>java-semver</artifactId>
        <version>${java-semver.version}</version>
      </dependency>
      <dependency>
        <groupId>net.logstash.logback</groupId>
        <artifactId>logstash-logback-encoder</artifactId>
        <version>${logstash.version}</version>
      </dependency>
      <dependency>
        <groupId>net.javacrumbs.json-unit</groupId>
        <artifactId>json-unit-fluent</artifactId>
        <version>${json-unit.version}</version>
      </dependency>
    </dependencies>
  </dependencyManagement>

  <!-- Activiti build parent marker dependency for dependency convergence tests -->
  <dependencies>
    <dependency>
      <groupId>org.activiti.cloud.build</groupId>
      <artifactId>activiti-cloud-parent</artifactId>
      <version>${activiti-cloud-build.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.activiti.cloud.api</groupId>
      <artifactId>activiti-cloud-api-dependencies</artifactId>
      <version>${activiti-cloud-api.version}</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.activiti.core.common</groupId>
      <artifactId>activiti-core-common-dependencies</artifactId>
      <version>${activiti-core-common.version}</version>
      <type>pom</type>
    </dependency>
  </dependencies>

  <build>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-deploy-plugin</artifactId>
        <version>2.8.2</version>
        <configuration>
          <deployAtEnd>true</deployAtEnd>
        </configuration>
      </plugin>
    </plugins>
  </build>
</project>
